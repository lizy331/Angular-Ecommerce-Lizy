{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginStatusComponent = class LoginStatusComponent {\n  constructor(oktaAuthService, oktaAuth) {\n    this.oktaAuthService = oktaAuthService;\n    this.oktaAuth = oktaAuth;\n    this.isAuthenticated = false;\n    this.userFullName = '';\n  }\n\n  ngOnInit() {\n    // Subscribe to authentication state changes\n    this.oktaAuthService.authState$.subscribe(result => {\n      this.isAuthenticated = result.isAuthenticated;\n      this.getUserDetails();\n    });\n    console.log(\"fetched login-status on init method triggered: \" + this.userFullName);\n  }\n\n  getUserDetails() {\n    if (this.isAuthenticated) {\n      // get the user info who has logged in\n      this.oktaAuth.getUser().then(res => {\n        this.userFullName = res.name;\n      });\n    }\n  }\n\n  logout() {\n    // stop the session with okta, and remove current tokens\n    this.oktaAuth.signOut();\n  }\n\n};\nLoginStatusComponent = __decorate([Component({\n  selector: 'app-login-status',\n  templateUrl: './login-status.component.html',\n  styleUrls: ['./login-status.component.css']\n})], LoginStatusComponent);\nexport { LoginStatusComponent };","map":null,"metadata":{},"sourceType":"module"}